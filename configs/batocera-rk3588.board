include batocera-board.common

# Target definition
BR2_aarch64=y
BR2_ARM_FPU_NEON_FP_ARMV8=y
BR2_PACKAGE_BATOCERA_TARGET_RK3588=y
# As of rockchip-linux-5.10-rkr3.6, the vendored kernel does not like -fsigned-char, do NOT add it to BR2_TARGET_OPTIMIZATION=
BR2_TARGET_OPTIMIZATION="-pipe -mcpu=cortex-a76.cortex-a55 -mtune=cortex-a76.cortex-a55"
BR2_GLOBAL_PATCH_DIR="$(BR2_EXTERNAL_BATOCERA_PATH)/board/batocera/patches $(BR2_EXTERNAL_BATOCERA_PATH)/board/batocera/rockchip/patches $(BR2_EXTERNAL_BATOCERA_PATH)/board/batocera/rockchip/rk3588/patches"

# Linux headers same as kernel, a 5.10 series
BR2_KERNEL_HEADERS_AS_KERNEL=y
BR2_PACKAGE_HOST_LINUX_HEADERS_CUSTOM_5_10=y

# Kernel
BR2_LINUX_KERNEL=n
BR2_LINUX_KERNEL_CUSTOM_GIT=y
BR2_LINUX_KERNEL_CUSTOM_REPO_URL="https://github.com/armbian/linux-rockchip.git"
BR2_LINUX_KERNEL_CUSTOM_REPO_VERSION="494c0a303537c55971421b5552d98eb55e652cf3"

# Batocera Splash Support
BR2_PACKAGE_REGLINUX_SPLASH_FFPLAY=y

# Enable Wayland
BR2_PACKAGE_BATOCERA_WAYLAND_SWAY=y
